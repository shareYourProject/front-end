{"remainingRequest":"/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue","mtime":1638848160323},{"path":"/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7ZGVmaW5lQ29tcG9uZW50fSBmcm9tICd2dWUnCmltcG9ydCBDdXN0b21JbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvaW5wdXRzL0N1c3RvbUlucHV0LnZ1ZScKaW1wb3J0IHttYXBBY3Rpb25zLCBtYXBHZXR0ZXJzfSBmcm9tICd2dWV4JwppbXBvcnQge0FQSX0gZnJvbSAnQC9hcGknCgppbnRlcmZhY2UgSUVycm9yIHsKICBlbWFpbDogc3RyaW5nLAogIHBhc3N3b3JkOiBzdHJpbmcKfQoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBDdXN0b21JbnB1dAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGVycm9yczogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSBhcyBJRXJyb3IsCiAgICAgIGNyZWRlbnRpYWxFcnJvcjogIiIKICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoewogICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6ICdpc0F1dGhlbnRpY2F0ZWQnCiAgICAgICAgfSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgICAgICAgIG1lOiAnbWUnCiAgICAgICAgfSksCiAgICAgICAgcmVzZXRFcnJvcnMoKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gewogICAgICAgICAgICAgICAgZW1haWw6ICIiLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgICAgICAgIH07CgogICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxFcnJvciA9ICIiOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgb25TdWJtaXQoKSB7CgogICAgICAgICAgICBhd2FpdCBBUEkuY3NyZigpOwoKICAgICAgICAgICAgQVBJLmxvZ2luKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0RXJyb3JzKCkKCiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMjAwOgogICAgICAgICAgICAgICAgICAgICAgICAvLyBBdXRoZW50aWNhdGVkCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWUoKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQXV0aGVudGljYXRlZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2ZlZWQnfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNDIyOgogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVycm9yc0tleSBpbiB0aGlzLmVycm9ycykgewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNbZXJyb3JzS2V5IGFzIGtleW9mIElFcnJvcl0gPSByZXNwb25zZS5kYXRhLmVycm9yc1tlcnJvcnNLZXldID8gcmVzcG9uc2UuZGF0YS5lcnJvcnNbZXJyb3JzS2V5XVswXSA6ICIiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbEVycm9yID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDQwMToKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFsRXJyb3IgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgIH0KICAgIH0KfSkK"},{"version":3,"sources":["/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue"],"names":[],"mappings":"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","file":"/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"flex w-full h-screen\">\n        <img class=\"hidden md:block w-auto h-full\" src=\"@/assets/img/default/jeff-sheldon-8z2Q6XWLYa4.jpg\" alt=\"\"/>\n        <div class=\"absolute right-0 px-12 md:px-24 pt-16 h-full py-12 bg-white w-full md:w-1/2 lg:w-5/12 justify-center\">\n            <h1 class=\"text-onyx-600 font-sans font-bold text-center text-4xl mb-6\">Login</h1>\n            <hr class=\"mb-12 mx-3\">\n            <form class=\"w-full\" method=\"POST\" action=\"#\" @submit.prevent=\"onSubmit\">\n\n                <div class=\"flex flex-wrap -mx-3 mb-6\">\n                    <CustomInput\n                    v-model=\"form.email\"\n                    :error=\"errors.email\"\n                    class=\"w-full px-3\" name=\"email\" label=\"E-mail\" type=\"email\" placeholder=\"jane.doe@shareyourproject.fr\"></CustomInput>\n                </div>\n\n                <div class=\"flex flex-wrap -mx-3 mb-6\">\n                    <CustomInput\n                    v-model=\"form.password\"\n                    :error=\"errors.password\"\n                    class=\"w-full px-3 mb-3 md:mb-0\" name=\"password\" label=\"Password\" type=\"password\" placeholder=\"******************\"></CustomInput>\n                </div>\n\n                <div class=\"alert alert-danger\" v-if=\"credentialError\">{{ credentialError }}</div>\n\n                <i class=\"block my-3 text-sm\">No account yet ? <router-link class=\"font-medium\" :to=\"{name: 'register'}\">Register</router-link></i>\n\n                <button type=\"submit\" class=\"my-4 btn btn-viridiant hover:text-cultured-100\">Log In</button>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from 'vue'\nimport CustomInput from '@/components/inputs/CustomInput.vue'\nimport {mapActions, mapGetters} from 'vuex'\nimport {API} from '@/api'\n\ninterface IError {\n  email: string,\n  password: string\n}\n\nexport default defineComponent({\n  components: {\n    CustomInput\n  },\n  data() {\n    return {\n      form: {\n        email: \"\",\n        password: \"\"\n      },\n      errors: {\n        email: \"\",\n        password: \"\"\n      } as IError,\n      credentialError: \"\"\n    }\n    },\n    computed: {\n        ...mapGetters({\n            isAuthenticated: 'isAuthenticated'\n        })\n    },\n    methods: {\n        ...mapActions({\n            me: 'me'\n        }),\n        resetErrors() {\n            this.errors = {\n                email: \"\",\n                password: \"\"\n            };\n\n            this.credentialError = \"\";\n        },\n        async onSubmit() {\n\n            await API.csrf();\n\n            API.login(this.form).then(response => {\n                this.resetErrors()\n\n                switch (response.status) {\n                    case 200:\n                        // Authenticated\n                        this.me().then(() => {\n                            if (this.isAuthenticated)\n                            {\n                                this.$router.push({name: 'feed'});\n                            }\n                        })\n\n                        break;\n\n                  case 422:\n                    for (let errorsKey in this.errors) {\n                      this.errors[errorsKey as keyof IError] = response.data.errors[errorsKey] ? response.data.errors[errorsKey][0] : \"\"\n                    }\n                    this.credentialError = response.data.message;\n                    break;\n\n                    case 401:\n                        this.credentialError = response.data;\n                        break;\n                    default:\n                        break;\n                }\n            });\n\n        }\n    }\n})\n</script>\n"]}]}