{"remainingRequest":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js!/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js!/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js??ref--15-3!/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue","mtime":1638848160323},{"path":"/home/runner/work/front-end/front-end/babel.config.js","mtime":1638848160311},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3J1bm5lci93b3JrL2Zyb250LWVuZC9mcm9udC1lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9ydW5uZXIvd29yay9mcm9udC1lbmQvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgQ3VzdG9tSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL2lucHV0cy9DdXN0b21JbnB1dC52dWUnOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IEFQSSB9IGZyb20gJ0AvYXBpJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBDdXN0b21JbnB1dDogQ3VzdG9tSW5wdXQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBlcnJvcnM6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGNyZWRlbnRpYWxFcnJvcjogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBpc0F1dGhlbnRpY2F0ZWQ6ICdpc0F1dGhlbnRpY2F0ZWQnCiAgfSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyh7CiAgICBtZTogJ21lJwogIH0pKSwge30sIHsKICAgIHJlc2V0RXJyb3JzOiBmdW5jdGlvbiByZXNldEVycm9ycygpIHsKICAgICAgdGhpcy5lcnJvcnMgPSB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9OwogICAgICB0aGlzLmNyZWRlbnRpYWxFcnJvciA9ICIiOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJLmNzcmYoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgQVBJLmxvZ2luKF90aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0RXJyb3JzKCk7CgogICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMjAwOgogICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aGVudGljYXRlZAogICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzQXV0aGVudGljYXRlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZmVlZCcKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNDIyOgogICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXJyb3JzS2V5IGluIF90aGlzLmVycm9ycykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnNbZXJyb3JzS2V5XSA9IHJlc3BvbnNlLmRhdGEuZXJyb3JzW2Vycm9yc0tleV0gPyByZXNwb25zZS5kYXRhLmVycm9yc1tlcnJvcnNLZXldWzBdIDogIiI7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3JlZGVudGlhbEVycm9yID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNDAxOgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3JlZGVudGlhbEVycm9yID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfSk7"},{"version":3,"sources":["/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/views/auth/LoginView.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;AACA,SAAQ,eAAR,QAA8B,KAA9B;AACA,OAAO,WAAP,MAAwB,qCAAxB;AACA,SAAQ,UAAR,EAAoB,UAApB,QAAqC,MAArC;AACA,SAAQ,GAAR,QAAkB,OAAlB;AAOA,eAAe,eAAe,CAAC;AAC7B,EAAA,UAAU,EAAE;AACV,IAAA,WAAW,EAAX;AADU,GADiB;AAI7B,EAAA,IAJ6B,kBAIzB;AACF,WAAO;AACL,MAAA,IAAI,EAAE;AACJ,QAAA,KAAK,EAAE,EADH;AAEJ,QAAA,QAAQ,EAAE;AAFN,OADD;AAKL,MAAA,MAAM,EAAE;AACN,QAAA,KAAK,EAAE,EADD;AAEN,QAAA,QAAQ,EAAE;AAFJ,OALH;AASL,MAAA,eAAe,EAAE;AATZ,KAAP;AAWC,GAhB0B;AAiB3B,EAAA,QAAQ,oBACD,UAAU,CAAC;AACV,IAAA,eAAe,EAAE;AADP,GAAD,CADT,CAjBmB;AAsB3B,EAAA,OAAO,kCACA,UAAU,CAAC;AACV,IAAA,EAAE,EAAE;AADM,GAAD,CADV;AAIH,IAAA,WAJG,yBAIQ;AACP,WAAK,MAAL,GAAc;AACV,QAAA,KAAK,EAAE,EADG;AAEV,QAAA,QAAQ,EAAE;AAFA,OAAd;AAKA,WAAK,eAAL,GAAuB,EAAvB;AACH,KAXE;AAYG,IAAA,QAZH,sBAYW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEJ,GAAG,CAAC,IAAJ,EAFI;;AAAA;AAIV,gBAAA,GAAG,CAAC,KAAJ,CAAU,KAAI,CAAC,IAAf,EAAqB,IAArB,CAA0B,UAAA,QAAQ,EAAG;AACjC,kBAAA,KAAI,CAAC,WAAL;;AAEA,0BAAQ,QAAQ,CAAC,MAAjB;AACI,yBAAK,GAAL;AACI;AACA,sBAAA,KAAI,CAAC,EAAL,GAAU,IAAV,CAAe,YAAK;AAChB,4BAAI,KAAI,CAAC,eAAT,EACA;AACI,0BAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,4BAAA,IAAI,EAAE;AAAP,2BAAlB;AACH;AACJ,uBALD;;AAOA;;AAEN,yBAAK,GAAL;AACE,2BAAK,IAAI,SAAT,IAAsB,KAAI,CAAC,MAA3B,EAAmC;AACjC,wBAAA,KAAI,CAAC,MAAL,CAAY,SAAZ,IAAyC,QAAQ,CAAC,IAAT,CAAc,MAAd,CAAqB,SAArB,IAAkC,QAAQ,CAAC,IAAT,CAAc,MAAd,CAAqB,SAArB,EAAgC,CAAhC,CAAlC,GAAuE,EAAhH;AACD;;AACD,sBAAA,KAAI,CAAC,eAAL,GAAuB,QAAQ,CAAC,IAAT,CAAc,OAArC;AACA;;AAEA,yBAAK,GAAL;AACI,sBAAA,KAAI,CAAC,eAAL,GAAuB,QAAQ,CAAC,IAAhC;AACA;;AACJ;AACI;AAvBR;AAyBH,iBA5BD;;AAJU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCb;AA9CE;AAtBoB,CAAD,CAA9B","sourcesContent":["\nimport {defineComponent} from 'vue'\nimport CustomInput from '@/components/inputs/CustomInput.vue'\nimport {mapActions, mapGetters} from 'vuex'\nimport {API} from '@/api'\n\ninterface IError {\n  email: string,\n  password: string\n}\n\nexport default defineComponent({\n  components: {\n    CustomInput\n  },\n  data() {\n    return {\n      form: {\n        email: \"\",\n        password: \"\"\n      },\n      errors: {\n        email: \"\",\n        password: \"\"\n      } as IError,\n      credentialError: \"\"\n    }\n    },\n    computed: {\n        ...mapGetters({\n            isAuthenticated: 'isAuthenticated'\n        })\n    },\n    methods: {\n        ...mapActions({\n            me: 'me'\n        }),\n        resetErrors() {\n            this.errors = {\n                email: \"\",\n                password: \"\"\n            };\n\n            this.credentialError = \"\";\n        },\n        async onSubmit() {\n\n            await API.csrf();\n\n            API.login(this.form).then(response => {\n                this.resetErrors()\n\n                switch (response.status) {\n                    case 200:\n                        // Authenticated\n                        this.me().then(() => {\n                            if (this.isAuthenticated)\n                            {\n                                this.$router.push({name: 'feed'});\n                            }\n                        })\n\n                        break;\n\n                  case 422:\n                    for (let errorsKey in this.errors) {\n                      this.errors[errorsKey as keyof IError] = response.data.errors[errorsKey] ? response.data.errors[errorsKey][0] : \"\"\n                    }\n                    this.credentialError = response.data.message;\n                    break;\n\n                    case 401:\n                        this.credentialError = response.data;\n                        break;\n                    default:\n                        break;\n                }\n            });\n\n        }\n    }\n})\n"],"sourceRoot":""}]}