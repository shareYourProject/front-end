{"remainingRequest":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js!/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js!/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js??ref--15-3!/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/components/cards/PostCreator.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/runner/work/front-end/front-end/src/components/cards/PostCreator.vue","mtime":1638848160319},{"path":"/home/runner/work/front-end/front-end/babel.config.js","mtime":1638848160311},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcnVubmVyL3dvcmsvZnJvbnQtZW5kL2Zyb250LWVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgVGV4dEFyZWEgZnJvbSAnQC9jb21wb25lbnRzL2lucHV0cy9UZXh0QXJlYS52dWUnOwppbXBvcnQgdkNsaWNrT3V0c2lkZSBmcm9tICJAL2NsaWNrLW91dHNpZGUiOwppbXBvcnQgTW9kYWxDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL25hdmlnYXRpb24vTW9kYWxDb21wb25lbnQudnVlJzsKaW1wb3J0IFBvc3RDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9jYXJkcy9Qb3N0Q2FyZC52dWUnOwppbXBvcnQgUmVzaXplQXV0byBmcm9tICdAL2NvbXBvbmVudHMvdXRpbHMvUmVzaXplQXV0by52dWUnOwppbXBvcnQgeyBBUEkgfSBmcm9tICdAL2FwaSc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVGV4dEFyZWE6IFRleHRBcmVhLAogICAgUmVzaXplQXV0bzogUmVzaXplQXV0bywKICAgIE1vZGFsQ29tcG9uZW50OiBNb2RhbENvbXBvbmVudCwKICAgIFBvc3RDYXJkOiBQb3N0Q2FyZAogIH0sCiAgZGlyZWN0aXZlczogewogICAgY2xpY2tPdXRzaWRlOiB2Q2xpY2tPdXRzaWRlCiAgfSwKICBlbWl0czogewogICAgY2xvc2U6IG51bGwKICB9LAogIHByb3BzOiB7CiAgICBleHRyYUNvbnRlbnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZXNoYXJlZFBvc3Q6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93U2VsZWN0OiBmYWxzZSwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgY29udGVudDogIiIsCiAgICAgIEF1dGhvcklzUHJvamVjdDogZmFsc2UsCiAgICAgIGZpbGVzOiBuZXcgQXJyYXkoKSwKICAgICAgYXV0aG9yOiB1bmRlZmluZWQsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmF1dGhvciA9IHRoaXMudXNlcjsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnaXNBdXRoZW50aWNhdGVkJywgJ3VzZXInXSkpLAogIG1ldGhvZHM6IHsKICAgIG9uQXV0aG9yU2VsZWN0ZWQ6IGZ1bmN0aW9uIG9uQXV0aG9yU2VsZWN0ZWQoYXV0aG9yKSB7CiAgICAgIHRoaXMuYXV0aG9yID0gYXV0aG9yOwogICAgICB0aGlzLkF1dGhvcklzUHJvamVjdCA9ICEoJ3VzZXJuYW1lJyBpbiB0aGlzLmF1dGhvcik7CiAgICAgIHRoaXMuc2hvd1NlbGVjdCA9IGZhbHNlOwogICAgfSwKICAgIG9uQ2xpY2tPdXRzaWRlOiBmdW5jdGlvbiBvbkNsaWNrT3V0c2lkZSgpIHsKICAgICAgdGhpcy5zaG93U2VsZWN0ID0gZmFsc2U7CiAgICB9LAogICAgc2VsZWN0RmlsZTogZnVuY3Rpb24gc2VsZWN0RmlsZSgpIHsKICAgICAgdGhpcy4kcmVmcy5waWN0dXJlLmNsaWNrKCk7CiAgICB9LAogICAgcmVtb3ZlRmlsZTogZnVuY3Rpb24gcmVtb3ZlRmlsZShpbmRleCkgewogICAgICBpZiAoaW5kZXggPD0gdGhpcy5maWxlcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmZpbGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBwcmV2aWV3RmlsZTogZnVuY3Rpb24gcHJldmlld0ZpbGUoKSB7CiAgICAgIHZhciBfdGhpcyQkcmVmcyRwaWN0dXJlLCBfdGhpcyQkcmVmcyRwaWN0dXJlJGY7CgogICAgICB2YXIgZmlsZSA9IChfdGhpcyQkcmVmcyRwaWN0dXJlID0gdGhpcy4kcmVmcy5waWN0dXJlKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyRwaWN0dXJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkJHJlZnMkcGljdHVyZSRmID0gX3RoaXMkJHJlZnMkcGljdHVyZS5maWxlcykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkcGljdHVyZSRmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcmVmcyRwaWN0dXJlJGYuaXRlbSgwKTsKCiAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgdGhpcy5maWxlcy5wdXNoKHsKICAgICAgICAgIGNvbnRlbnQ6IGZpbGUsCiAgICAgICAgICB1cmw6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24gb3Blbk1vZGFsKCkgewogICAgICB0aGlzLnNob3dNb2RhbCA9IHRydWU7CiAgICB9LAogICAgY2xvc2VNb2RhbDogZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHsKICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICBjcmVhdGVQb3N0OiBmdW5jdGlvbiBjcmVhdGVQb3N0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgQVBJLlBvc3QuY3JlYXRlKHRoaXMuZmlsZXMubWFwKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgcmV0dXJuIGYuY29udGVudDsKICAgICAgfSksIHRoaXMucmVzaGFyZWRQb3N0LCB0aGlzLmNvbnRlbnQsIHRoaXMuQXV0aG9ySXNQcm9qZWN0ID8gdGhpcy5hdXRob3IgOiB1bmRlZmluZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgc3dpdGNoIChyZXNwb25zZS5zdGF0dXMpIHsKICAgICAgICAgIGNhc2UgMjAxOgogICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ3Bvc3QnLAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEuaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MjI6CiAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IFtdOwogICAgICAgICAgICBPYmplY3QudmFsdWVzKHJlc3BvbnNlLmRhdGFbJ2Vycm9ycyddKS5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IF90aGlzLmVycm9ycy5jb25jYXQoZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/components/cards/PostCreator.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport {defineComponent, PropType} from 'vue'\nimport {mapGetters} from 'vuex'\nimport TextArea from '@/components/inputs/TextArea.vue';\nimport vClickOutside from \"@/click-outside\";\nimport ModalComponent from '@/components/navigation/ModalComponent.vue'\nimport PostCard from '@/components/cards/PostCard.vue'\nimport ResizeAuto from '@/components/utils/ResizeAuto.vue'\nimport {Post, Project, User} from '@/models';\nimport {API} from '@/api';\n\ninterface FormFile {\n  content: File | null | undefined;\n  url: string;\n}\n\nexport default defineComponent({\n  components: {\n    TextArea,\n    ResizeAuto,\n    ModalComponent,\n    PostCard\n  },\n  directives: {\n    clickOutside: vClickOutside\n  },\n  emits: {\n    close: null\n  },\n  props: {\n    extraContent: {\n      type: Boolean,\n      default: false\n    },\n    resharedPost: {\n      type: Object as PropType<Post | undefined>,\n      default: undefined\n    }\n  },\n  data() {\n    return {\n      showSelect: false,\n      showModal: false,\n      content: \"\",\n      AuthorIsProject: false,\n      files: new Array<FormFile>(),\n      author: undefined as unknown as User|Project,\n      errors: []\n    }\n  },\n  beforeMount() {\n    this.author = this.user;\n  },\n  computed: {\n    ...mapGetters([\n      'isAuthenticated',\n      'user',\n    ])\n  },\n  methods: {\n    onAuthorSelected: function (author:User|Project) {\n      this.author = author;\n      this.AuthorIsProject = !('username' in this.author);\n      this.showSelect = false;\n    },\n    onClickOutside : function () {\n      this.showSelect = false;\n    },\n    selectFile() {\n      (this.$refs.picture as HTMLInputElement).click();\n    },\n    removeFile: function(index: number) {\n      if (index <= this.files.length) {\n        this.files.splice(index, 1);\n      }\n    },\n    previewFile: function() {\n      let file = (this.$refs.picture as HTMLInputElement)?.files?.item(0);\n      if (file) {\n        this.files.push({\n          content: file,\n          url: URL.createObjectURL(file)\n        });\n      }\n    },\n    openModal() {\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n      this.$emit('close');\n    },\n    createPost() {\n      API.Post.create((this.files.map(f => f.content) as File[]), this.resharedPost,\n          this.content, this.AuthorIsProject ? (this.author as Project) : undefined).then(response => {\n          switch (response.status) {\n            case 201:\n              this.errors = [];\n              this.$router.push({name: 'post', params: {id: response.data.id}});\n              break;\n\n            case 422:\n              this.errors = [];\n              Object.values((response.data as any)['errors']).forEach((error: any) => {\n                this.errors = this.errors.concat(error)\n              })\n              break;\n\n            default:\n              break;\n          }\n      })\n    }\n  }\n})\n"],"sourceRoot":""}]}