{"remainingRequest":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js!/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js!/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js??ref--15-3!/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/views/project/PostsView.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/runner/work/front-end/front-end/src/views/project/PostsView.vue","mtime":1638848160323},{"path":"/home/runner/work/front-end/front-end/babel.config.js","mtime":1638848160311},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9ydW5uZXIvd29yay9mcm9udC1lbmQvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IEFQSSB9IGZyb20gJ0AvYXBpJzsKaW1wb3J0IFBvc3RDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9jYXJkcy9Qb3N0Q2FyZC52dWUnOwppbXBvcnQgbG90dGllIGZyb20gJ2xvdHRpZS13ZWInOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFBvc3RDYXJkOiBQb3N0Q2FyZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2plY3Q6IHVuZGVmaW5lZCwKICAgICAgcG9zdHM6IG5ldyBBcnJheSgpLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgbGFzdFBhZ2U6IHVuZGVmaW5lZCwKICAgICAgYW5pbWF0aW9uOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBBUEkuUHJvamVjdC5nZXQoTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtc1snaWQnXSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgICAgY2FzZSAyMDA6CiAgICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIEFQSS5Qcm9qZWN0LnBvc3RzKF90aGlzLnByb2plY3QpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgX3RoaXMucG9zdHMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgX3RoaXMuY3VycmVudFBhZ2UgPSByZXNwb25zZS5kYXRhLm1ldGEuY3VycmVudF9wYWdlOwogICAgICAgICAgICAgIF90aGlzLmxhc3RQYWdlID0gcmVzcG9uc2UuZGF0YS5tZXRhLmxhc3RfcGFnZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFuaW1hdGlvbiA9IGxvdHRpZS5sb2FkQW5pbWF0aW9uKHsKICAgICAgY29udGFpbmVyOiB0aGlzLiRyZWZzWydsb2FkZXInXSwKICAgICAgcmVuZGVyZXI6ICdzdmcnLAogICAgICBsb29wOiB0cnVlLAogICAgICBhdXRvcGxheTogZmFsc2UsCiAgICAgIHBhdGg6ICcvbG90dGllL2xvYWRpbmcuanNvbicKICAgIH0pOwogICAgdGhpcy5zY3JvbGwoKTsKICB9LAogIGJlZm9yZVJvdXRlVXBkYXRlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZVVwZGF0ZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgQVBJLlByb2plY3QuZ2V0KE51bWJlcih0by5wYXJhbXNbJ2lkJ10pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykgewogICAgICAgIGNhc2UgMjAwOgogICAgICAgICAgX3RoaXMyLnByb2plY3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgX3RoaXMyLnBvc3RzID0gW107CiAgICAgICAgICBBUEkuUHJvamVjdC5wb3N0cyhfdGhpczIucHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICBfdGhpczIucG9zdHMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRQYWdlID0gcmVzcG9uc2UuZGF0YS5tZXRhLmN1cnJlbnRfcGFnZTsKICAgICAgICAgICAgICBfdGhpczIubGFzdFBhZ2UgPSByZXNwb25zZS5kYXRhLm1ldGEubGFzdF9wYWdlOwogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIG5leHQoZmFsc2UpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsOiBmdW5jdGlvbiBzY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBib3R0b21PZldpbmRvdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7CgogICAgICAgIGlmIChib3R0b21PZldpbmRvdyAmJiBfdGhpczMubGFzdFBhZ2UgIT0gdW5kZWZpbmVkICYmIF90aGlzMy5jdXJyZW50UGFnZSA8IF90aGlzMy5sYXN0UGFnZSkgewogICAgICAgICAgX3RoaXMzLmFuaW1hdGlvbi5wbGF5KCk7CgogICAgICAgICAgQVBJLlByb2plY3QucG9zdHMoX3RoaXMzLnByb2plY3QsIF90aGlzMy5jdXJyZW50UGFnZSArIDEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdmFyIF90aGlzMyRwb3N0czsKCiAgICAgICAgICAgICAgKF90aGlzMyRwb3N0cyA9IF90aGlzMy5wb3N0cykucHVzaC5hcHBseShfdGhpczMkcG9zdHMsIF90b0NvbnN1bWFibGVBcnJheShyZXNwb25zZS5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgX3RoaXMzLmN1cnJlbnRQYWdlID0gcmVzcG9uc2UuZGF0YS5tZXRhLmN1cnJlbnRfcGFnZTsKICAgICAgICAgICAgICBfdGhpczMubGFzdFBhZ2UgPSByZXNwb25zZS5kYXRhLm1ldGEubGFzdF9wYWdlOwoKICAgICAgICAgICAgICBfdGhpczMuYW5pbWF0aW9uLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/views/project/PostsView.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;AACA,SAAQ,eAAR,QAA8B,KAA9B;AACA,SAAQ,GAAR,QAAkB,OAAlB;AACA,OAAO,QAAP,MAAqB,iCAArB;AAEA,OAAO,MAAP,MAAoC,YAApC;AAEA,eAAe,eAAe,CAAC;AAC3B,EAAA,UAAU,EAAE;AACR,IAAA,QAAQ,EAAR;AADQ,GADe;AAI3B,EAAA,IAJ2B,kBAIvB;AACA,WAAO;AACH,MAAA,OAAO,EAAE,SADN;AAEH,MAAA,KAAK,EAAE,IAAI,KAAJ,EAFJ;AAGH,MAAA,WAAW,EAAE,CAHV;AAIH,MAAA,QAAQ,EAAE,SAJP;AAKH,MAAA,SAAS,EAAE;AALR,KAAP;AAOH,GAZ0B;AAa3B,EAAA,OAb2B,qBAapB;AAAA;;AACH,IAAA,GAAG,CAAC,OAAJ,CAAY,GAAZ,CAAgB,MAAM,CAAC,KAAK,MAAL,CAAY,MAAZ,CAAmB,IAAnB,CAAD,CAAtB,EAAkD,IAAlD,CAAuD,UAAA,QAAQ,EAAG;AAC9D,cAAQ,QAAQ,CAAC,MAAjB;AACI,aAAK,GAAL;AACI,UAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AAEA,UAAA,GAAG,CAAC,OAAJ,CAAY,KAAZ,CAAkB,KAAI,CAAC,OAAvB,EAAgC,IAAhC,CAAqC,UAAA,QAAQ,EAAG;AAC9C,gBAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,cAAA,KAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAT,CAAc,IAA3B;AACA,cAAA,KAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,YAAtC;AACA,cAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,SAAnC;AACD;AACF,WAND;AAOF;;AAEJ;AACE;AAdJ;AAgBH,KAjBD;AAkBH,GAhC0B;AAiC3B,EAAA,OAjC2B,qBAiCpB;AACH,SAAK,SAAL,GAAiB,MAAM,CAAC,aAAP,CAAqB;AAClC,MAAA,SAAS,EAAE,KAAK,KAAL,CAAW,QAAX,CADuB;AAElC,MAAA,QAAQ,EAAE,KAFwB;AAGlC,MAAA,IAAI,EAAE,IAH4B;AAIlC,MAAA,QAAQ,EAAE,KAJwB;AAKlC,MAAA,IAAI,EAAE;AAL4B,KAArB,CAAjB;AAOA,SAAK,MAAL;AACH,GA1C0B;AA2C3B,EAAA,iBA3C2B,6BA2CT,EA3CS,EA2CL,IA3CK,EA2CC,IA3CD,EA2CK;AAAA;;AAC5B,IAAA,GAAG,CAAC,OAAJ,CAAY,GAAZ,CAAgB,MAAM,CAAC,EAAE,CAAC,MAAH,CAAU,IAAV,CAAD,CAAtB,EAAyC,IAAzC,CAA8C,UAAA,QAAQ,EAAG;AACrD,cAAQ,QAAQ,CAAC,MAAjB;AACI,aAAK,GAAL;AACI,UAAA,MAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACA,UAAA,MAAI,CAAC,KAAL,GAAa,EAAb;AAEA,UAAA,GAAG,CAAC,OAAJ,CAAY,KAAZ,CAAkB,MAAI,CAAC,OAAvB,EAAgC,IAAhC,CAAqC,UAAA,QAAQ,EAAG;AAC5C,gBAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AACxB,cAAA,MAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAT,CAAc,IAA3B;AACA,cAAA,MAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,YAAtC;AACA,cAAA,MAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,SAAnC;AACA,cAAA,IAAI;AACP;AACJ,WAPD;AAQA;;AAEJ;AACI,UAAA,IAAI,CAAC,KAAD,CAAJ;AACA;AAjBR;AAmBH,KApBD;AAqBH,GAjE0B;AAkE3B,EAAA,OAAO,EAAE;AACL,IAAA,MADK,oBACC;AAAA;;AACF,MAAA,MAAM,CAAC,QAAP,GAAkB,YAAK;AACnB,YAAI,cAAc,GAAG,QAAQ,CAAC,eAAT,CAAyB,SAAzB,GAAqC,MAAM,CAAC,WAA5C,KAA4D,QAAQ,CAAC,eAAT,CAAyB,YAA1G;;AAEA,YAAI,cAAc,IAAI,MAAI,CAAC,QAAL,IAAiB,SAAnC,IAAgD,MAAI,CAAC,WAAL,GAAmB,MAAI,CAAC,QAA5E,EAAsF;AAClF,UAAA,MAAI,CAAC,SAAL,CAAe,IAAf;;AACA,UAAA,GAAG,CAAC,OAAJ,CAAY,KAAZ,CAAkB,MAAI,CAAC,OAAvB,EAAgC,MAAI,CAAC,WAAL,GAAiB,CAAjD,EAAoD,IAApD,CAAyD,UAAA,QAAQ,EAAG;AAChE,gBAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AAAA;;AACxB,8BAAA,MAAI,CAAC,KAAL,EAAW,IAAX,wCAAmB,QAAQ,CAAC,IAAT,CAAc,IAAjC;;AACA,cAAA,MAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,YAAtC;AACA,cAAA,MAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,SAAnC;;AACA,cAAA,MAAI,CAAC,SAAL,CAAe,IAAf;AACH;AACJ,WAPD;AAQH;AACJ,OAdD;AAeH;AAjBI;AAlEkB,CAAD,CAA9B","sourcesContent":["\nimport {defineComponent} from 'vue'\nimport {API} from '@/api'\nimport PostCard from '@/components/cards/PostCard.vue'\nimport {Post, Project} from '@/models'\nimport lottie, {AnimationItem} from 'lottie-web';\n\nexport default defineComponent({\n    components: {\n        PostCard\n    },\n    data() {\n        return {\n            project: undefined as unknown as Project,\n            posts: new Array<Post>(),\n            currentPage: 1,\n            lastPage: undefined as unknown as number,\n            animation: undefined as unknown as AnimationItem\n        }\n    },\n    created() {\n        API.Project.get(Number(this.$route.params['id'])).then(response => {\n            switch (response.status) {\n                case 200:\n                    this.project = response.data\n\n                    API.Project.posts(this.project).then(response => {\n                      if (response.status == 200) {\n                        this.posts = response.data.data;\n                        this.currentPage = response.data.meta.current_page;\n                        this.lastPage = response.data.meta.last_page;\n                      }\n                    })\n                  break;\n\n              default:\n                break;\n            }\n        });\n    },\n    mounted() {\n        this.animation = lottie.loadAnimation({\n            container: this.$refs['loader'] as Element,\n            renderer: 'svg',\n            loop: true,\n            autoplay: false,\n            path: '/lottie/loading.json'\n        });\n        this.scroll();\n    },\n    beforeRouteUpdate(to, from, next) {\n        API.Project.get(Number(to.params['id'])).then(response => {\n            switch (response.status) {\n                case 200:\n                    this.project = response.data\n                    this.posts = [];\n\n                    API.Project.posts(this.project).then(response => {\n                        if (response.status == 200) {\n                            this.posts = response.data.data;\n                            this.currentPage = response.data.meta.current_page;\n                            this.lastPage = response.data.meta.last_page;\n                            next()\n                        }\n                    })\n                    break;\n\n                default:\n                    next(false)\n                    break;\n            }\n        });\n    },\n    methods: {\n        scroll() {\n            window.onscroll = () => {\n                let bottomOfWindow = document.documentElement.scrollTop + window.innerHeight === document.documentElement.offsetHeight;\n\n                if (bottomOfWindow && this.lastPage != undefined && this.currentPage < this.lastPage) {\n                    this.animation.play()\n                    API.Project.posts(this.project, this.currentPage+1).then(response => {\n                        if (response.status == 200) {\n                            this.posts.push(...response.data.data);\n                            this.currentPage = response.data.meta.current_page;\n                            this.lastPage = response.data.meta.last_page;\n                            this.animation.stop()\n                        }\n                    });\n                }\n            }\n        }\n    }\n})\n"],"sourceRoot":""}]}