{"remainingRequest":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js!/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js!/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js??ref--15-3!/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/components/buttons/ProjectFollowButton.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/runner/work/front-end/front-end/src/components/buttons/ProjectFollowButton.vue","mtime":1638848160319},{"path":"/home/runner/work/front-end/front-end/babel.config.js","mtime":1638848160311},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/runner/work/front-end/front-end/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcnVubmVyL3dvcmsvZnJvbnQtZW5kL2Zyb250LWVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgbG90dGllIGZyb20gImxvdHRpZS13ZWIiOwppbXBvcnQgeyBBUEkgfSBmcm9tICdAL2FwaSc7CnZhciBTdGF0ZTsKCihmdW5jdGlvbiAoU3RhdGUpIHsKICBTdGF0ZVtTdGF0ZVsiRU5BQkxFRCJdID0gMF0gPSAiRU5BQkxFRCI7CiAgU3RhdGVbU3RhdGVbIkRJU0FCTEVEIl0gPSAxXSA9ICJESVNBQkxFRCI7CiAgU3RhdGVbU3RhdGVbIkZPTExPV0VEIl0gPSAyXSA9ICJGT0xMT1dFRCI7CiAgU3RhdGVbU3RhdGVbIlVORk9MTE9XRUQiXSA9IDNdID0gIlVORk9MTE9XRUQiOwp9KShTdGF0ZSB8fCAoU3RhdGUgPSB7fSkpOwoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAiUHJvamVjdEZvbGxvd0J1dHRvbi52dWUiLAogIHByb3BzOiB7CiAgICBwcm9qZWN0OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGF0ZTogU3RhdGUuRElTQUJMRUQsCiAgICAgIHRleHQ6ICJVbmF2YWlsYWJsZSIsCiAgICAgIGFuaW1hdGlvbjogdW5kZWZpbmVkCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuYW5pbWF0aW9uID0gbG90dGllLmxvYWRBbmltYXRpb24oewogICAgICBjb250YWluZXI6IHRoaXMuJHJlZnNbJ2ZvbGxvd0ljb24nXSwKICAgICAgcmVuZGVyZXI6ICdzdmcnLAogICAgICBsb29wOiBmYWxzZSwKICAgICAgYXV0b3BsYXk6IGZhbHNlLAogICAgICBwYXRoOiAnL2xvdHRpZS9wbHVzVG9YLmpzb24nCiAgICB9KTsKCiAgICBpZiAodGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVOQUJMRUQ7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBGb2xsb3cgdGhlIHVzZXIuCiAgICAgKi8KICAgIGZvbGxvdzogZnVuY3Rpb24gZm9sbG93KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgQVBJLlByb2plY3QuZm9sbG93KHRoaXMucHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgY2FzZSAyMDA6CiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuRk9MTE9XRUQ7CiAgICAgICAgICAgIF90aGlzLnRleHQgPSAiVW5mb2xsb3ciOwoKICAgICAgICAgICAgX3RoaXMuYW5pbWF0aW9uLnNldERpcmVjdGlvbigxKTsKCiAgICAgICAgICAgIF90aGlzLmFuaW1hdGlvbi5wbGF5KCk7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIFVuZm9sbG93IHRoZSB1c2VyLgogICAgICovCiAgICB1bmZvbGxvdzogZnVuY3Rpb24gdW5mb2xsb3coKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgQVBJLlByb2plY3QudW5mb2xsb3codGhpcy5wcm9qZWN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgICAgICBjYXNlIDIwMDoKICAgICAgICAgICAgX3RoaXMyLnN0YXRlID0gU3RhdGUuVU5GT0xMT1dFRDsKICAgICAgICAgICAgX3RoaXMyLnRleHQgPSAiRm9sbG93IjsKCiAgICAgICAgICAgIF90aGlzMi5hbmltYXRpb24uc2V0RGlyZWN0aW9uKC0xKTsKCiAgICAgICAgICAgIF90aGlzMi5hbmltYXRpb24ucGxheSgpOwoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBUb2dnbGUgdGhlIHN0YXRlLgogICAgICovCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkZPTExPV0VEKSB0aGlzLnVuZm9sbG93KCk7ZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuVU5GT0xMT1dFRCkgdGhpcy5mb2xsb3coKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBJbml0IHRoZSBzdGF0ZSBvZiB0aGUgYnV0dG9uCiAgICAgKi8KICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyRhdXRoZW50aWNhdGVkVXM7CgogICAgICBpZiAoKF90aGlzJGF1dGhlbnRpY2F0ZWRVcyA9IHRoaXMuYXV0aGVudGljYXRlZFVzZXIpICE9PSBudWxsICYmIF90aGlzJGF1dGhlbnRpY2F0ZWRVcyAhPT0gdm9pZCAwICYmIF90aGlzJGF1dGhlbnRpY2F0ZWRVcy5mb2xsb3dlZF9wcm9qZWN0cy5pbmNsdWRlcyh0aGlzLnByb2plY3QuaWQpKSB7CiAgICAgICAgdGhpcy5hbmltYXRpb24uZ29Ub0FuZFN0b3AoMjksIHRydWUpOwogICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5GT0xMT1dFRDsKICAgICAgICB0aGlzLnRleHQgPSAiVW5mb2xsb3ciOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5VTkZPTExPV0VEOwogICAgICAgIHRoaXMudGV4dCA9ICJGb2xsb3ciOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBhdXRoZW50aWNhdGVkVXNlcjogJ3VzZXInLAogICAgaXNBdXRoZW50aWNhdGVkOiAnaXNBdXRoZW50aWNhdGVkJwogIH0pKQp9KTs="},{"version":3,"sources":["/home/runner/work/front-end/front-end/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/front-end/front-end/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/runner/work/front-end/front-end/src/components/buttons/ProjectFollowButton.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;AACA,SAAQ,eAAR,QAAwC,KAAxC;AAEA,SAAQ,UAAR,QAAyB,MAAzB;AACA,OAAO,MAAP,MAAoC,YAApC;AACA,SAAQ,GAAR,QAAkB,OAAlB;AAEA,IAAK,KAAL;;AAAA,CAAA,UAAK,KAAL,EAAU;AACR,EAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAA;AACA,EAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAA;AACA,EAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAA;AACA,EAAA,KAAA,CAAA,KAAA,CAAA,YAAA,CAAA,GAAA,CAAA,CAAA,GAAA,YAAA;AACD,CALD,EAAK,KAAK,KAAL,KAAK,GAAA,EAAA,CAAV;;AAOA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,yBADuB;AAE7B,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AACP,MAAA,IAAI,EAAE,MADC;AAEP,MAAA,QAAQ,EAAE;AAFH;AADJ,GAFsB;AAQ7B,EAAA,IAR6B,kBAQzB;AACF,WAAO;AACL,MAAA,KAAK,EAAE,KAAK,CAAC,QADR;AAEL,MAAA,IAAI,EAAE,aAFD;AAGL,MAAA,SAAS,EAAE;AAHN,KAAP;AAKD,GAd4B;AAe7B,EAAA,OAf6B,qBAetB;AACL,SAAK,SAAL,GAAiB,MAAM,CAAC,aAAP,CAAqB;AACpC,MAAA,SAAS,EAAE,KAAK,KAAL,CAAW,YAAX,CADyB;AAEpC,MAAA,QAAQ,EAAE,KAF0B;AAGpC,MAAA,IAAI,EAAE,KAH8B;AAIpC,MAAA,QAAQ,EAAE,KAJ0B;AAKpC,MAAA,IAAI,EAAE;AAL8B,KAArB,CAAjB;;AAQA,QAAI,KAAK,eAAT,EAA0B;AACxB,WAAK,KAAL,GAAa,KAAK,CAAC,OAAnB;AACA,WAAK,IAAL;AACD;AACF,GA5B4B;AA6B7B,EAAA,OAAO,EAAE;AACP;;AAEG;AACH,IAAA,MAJO,oBAID;AAAA;;AACJ,MAAA,GAAG,CAAC,OAAJ,CAAY,MAAZ,CAAmB,KAAK,OAAxB,EAAiC,IAAjC,CAAsC,UAAA,QAAQ,EAAG;AAC/C,gBAAQ,QAAQ,CAAC,MAAjB;AACE,eAAK,GAAL;AAEE,YAAA,KAAI,CAAC,KAAL,GAAa,KAAK,CAAC,QAAnB;AACA,YAAA,KAAI,CAAC,IAAL,GAAY,UAAZ;;AACA,YAAA,KAAI,CAAC,SAAL,CAAe,YAAf,CAA4B,CAA5B;;AACA,YAAA,KAAI,CAAC,SAAL,CAAe,IAAf;;AACA;;AACF;AACE;AATJ;AAWD,OAZD;AAaD,KAlBM;;AAmBP;;AAEG;AACH,IAAA,QAtBO,sBAsBC;AAAA;;AACN,MAAA,GAAG,CAAC,OAAJ,CAAY,QAAZ,CAAqB,KAAK,OAA1B,EAAmC,IAAnC,CAAwC,UAAA,QAAQ,EAAG;AACjD,gBAAQ,QAAQ,CAAC,MAAjB;AACE,eAAK,GAAL;AAEE,YAAA,MAAI,CAAC,KAAL,GAAa,KAAK,CAAC,UAAnB;AACA,YAAA,MAAI,CAAC,IAAL,GAAY,QAAZ;;AACA,YAAA,MAAI,CAAC,SAAL,CAAe,YAAf,CAA4B,CAAC,CAA7B;;AACA,YAAA,MAAI,CAAC,SAAL,CAAe,IAAf;;AACA;;AACF;AACE;AATJ;AAWD,OAZD;AAaD,KApCM;;AAqCP;;AAEG;AACH,IAAA,MAxCO,oBAwCD;AACJ,UAAI,KAAK,KAAL,KAAe,KAAK,CAAC,QAAzB,EAAmC,KAAK,QAAL,GAAnC,KACK,IAAI,KAAK,KAAL,KAAe,KAAK,CAAC,UAAzB,EAAqC,KAAK,MAAL;AAC3C,KA3CM;;AA4CP;;AAEG;AACH,IAAA,IA/CO,kBA+CH;AAAA;;AACF,mCAAI,KAAK,iBAAT,kDAAI,sBAAwB,iBAAxB,CAA0C,QAA1C,CAAmD,KAAK,OAAL,CAAa,EAAhE,CAAJ,EAAyE;AACvE,aAAK,SAAL,CAAe,WAAf,CAA2B,EAA3B,EAA+B,IAA/B;AACA,aAAK,KAAL,GAAa,KAAK,CAAC,QAAnB;AACA,aAAK,IAAL,GAAY,UAAZ;AACD,OAJD,MAIO;AACL,aAAK,KAAL,GAAa,KAAK,CAAC,UAAnB;AACA,aAAK,IAAL,GAAY,QAAZ;AACD;AACF;AAxDM,GA7BoB;AAuF7B,EAAA,QAAQ,oBACH,UAAU,CAAC;AACZ,IAAA,iBAAiB,EAAE,MADP;AAEZ,IAAA,eAAe,EAAE;AAFL,GAAD,CADP;AAvFqB,CAAD,CAA9B","sourcesContent":["\nimport {defineComponent, PropType} from \"vue\";\nimport {Project} from \"@/models\";\nimport {mapGetters} from 'vuex'\nimport lottie, {AnimationItem} from \"lottie-web\";\nimport {API} from '@/api';\n\nenum State {\n  ENABLED,\n  DISABLED,\n  FOLLOWED,\n  UNFOLLOWED\n}\n\nexport default defineComponent({\n  name: \"ProjectFollowButton.vue\",\n  props: {\n    project: {\n      type: Object as PropType<Project>,\n      required: true\n    }\n  },\n  data() {\n    return {\n      state: State.DISABLED,\n      text: \"Unavailable\",\n      animation: undefined as unknown as AnimationItem,\n    }\n  },\n  mounted(): void {\n    this.animation = lottie.loadAnimation({\n      container: this.$refs['followIcon'] as Element,\n      renderer: 'svg',\n      loop: false,\n      autoplay: false,\n      path: '/lottie/plusToX.json'\n    });\n\n    if (this.isAuthenticated) {\n      this.state = State.ENABLED;\n      this.init();\n    }\n  },\n  methods: {\n    /**\n     * Follow the user.\n     */\n    follow(): void {\n      API.Project.follow(this.project).then(response => {\n        switch (response.status) {\n          case 200:\n\n            this.state = State.FOLLOWED;\n            this.text = \"Unfollow\";\n            this.animation.setDirection(1);\n            this.animation.play();\n            break;\n          default:\n            break;\n        }\n      })\n    },\n    /**\n     * Unfollow the user.\n     */\n    unfollow(): void {\n      API.Project.unfollow(this.project).then(response => {\n        switch (response.status) {\n          case 200:\n\n            this.state = State.UNFOLLOWED;\n            this.text = \"Follow\";\n            this.animation.setDirection(-1);\n            this.animation.play();\n            break;\n          default:\n            break;\n        }\n      })\n    },\n    /**\n     * Toggle the state.\n     */\n    toggle(): void {\n      if (this.state === State.FOLLOWED) this.unfollow();\n      else if (this.state === State.UNFOLLOWED) this.follow();\n    },\n    /**\n     * Init the state of the button\n     */\n    init(): void {\n      if (this.authenticatedUser?.followed_projects.includes(this.project.id)) {\n        this.animation.goToAndStop(29, true);\n        this.state = State.FOLLOWED;\n        this.text = \"Unfollow\";\n      } else {\n        this.state = State.UNFOLLOWED;\n        this.text = \"Follow\";\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      authenticatedUser: 'user',\n      isAuthenticated: 'isAuthenticated'\n    })\n  }\n});\n"],"sourceRoot":""}]}